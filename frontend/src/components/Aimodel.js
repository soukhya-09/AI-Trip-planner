
const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.REACT_APP_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
  systemInstruction: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


 export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a JSON format travel plan for a budget-friendly 3-day trip to Las Vegas for a couple, including hotel options and a detailed itinerary.  This plan focuses on free or low-cost activities.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $70/night (depending on season and deals)\",\n      \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/circus-circus-hotel-casino-1-1200x630.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1264,\n        \"longitude\": -115.1658\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with affordable rates. Features the Adventuredome Theme Park (additional cost), free circus acts, and a variety of dining options.  Rooms are basic but clean.  Great for families and budget travelers.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$40 - $80/night (depending on season and deals)\",\n      \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/the-strat-hotel-casino-and-skypod-1-1200x630.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1474,\n        \"longitude\": -115.1558\n      },\n      \"rating\": 3.8,\n      \"description\": \"Offers incredible views from the Stratosphere Tower. Hotel is located on the north end of the strip and is more budget-friendly.  Features thrill rides at the top of the tower (additional cost). Expect older rooms but a good location with access to the strip.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75/night (depending on season and deals)\",\n      \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/excalibur-hotel-casino-1-1200x630.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0986,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel with a fun atmosphere. It's located at the south end of the Strip, making it easy to walk to other attractions. Offers affordable dining options and a lively casino.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End)\",\n      \"bestTimeToVisit\": \"Afternoon and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"A classic photo opportunity. Free to visit. Can be crowded.\",\n          \"placeImageUrl\": \"https://www.lasvegasnevada.gov/wp-content/uploads/2023/08/Sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1736\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Varies depending on hotel location; allow 15-30 minutes from most hotels.\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning free floral displays that change seasonally. Located inside the Bellagio hotel.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/bellagio-conservatory-and-botanical-gardens-1-1200x630.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1763\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"10-15 minute walk from Excalibur/New York-New York, or a short bus/tram ride.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"A spectacular free water show set to music. Runs frequently in the afternoon and evening.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/fountains-of-bellagio-1-1200x630.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1763\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Adjacent to the Conservatory; no additional travel time.\"\n        },\n         {\n          \"placeName\": \"Walk the Strip & People Watching\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the Las Vegas Strip. This is free and gives you a taste of Vegas.\",\n          \"placeImageUrl\": \"https://i.insider.com/64773e0f49630400194c37ae?width=750&format=jpeg&auto=webp\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Continues from the Bellagio Fountains. Allow for several hours to walk a significant portion of the Strip.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas (Fremont Street Experience)\",\n      \"bestTimeToVisit\": \"Evening (for the light show)\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive LED canopy that displays light and music shows. Features free concerts and street performers.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/fremont-street-experience-1-1200x630.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street cost extra)\",\n          \"travelTime\": \"30-45 minute bus ride from the Strip (Deuce bus is a good option).\"\n        },\n        {\n          \"placeName\": \"Free Concerts on Fremont Street\",\n          \"placeDetails\": \"Many free concerts and events occur on the stages along the street. Check the schedule ahead of time.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/12/FSE_DSE_12-08-23_8876_RT.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"N/A (located within Fremont Street Experience)\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area built from shipping containers.  Features a playground and live entertainment (sometimes free).\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/downtown-container-park-1-1200x630.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1691,\n            \"longitude\": -115.1396\n          },\n          \"ticketPricing\": \"Free (costs for shopping and dining)\",\n          \"travelTime\": \"5-10 minute walk from Fremont Street.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring Free Attractions & Departure\",\n      \"bestTimeToVisit\": \"Morning and Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and a beautiful cactus garden. Located a short drive from the Strip.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/ethel-m-chocolate-factory-and-cactus-garden-1-1200x630.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0663,\n            \"longitude\": -115.0316\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"20-30 minute drive from the Strip (consider using ride-sharing if you don't have a car).\"\n        },\n        {\n          \"placeName\": \"The Venetian and The Palazzo\",\n          \"placeDetails\": \"Explore the grand architecture and atmosphere of the Venetian and Palazzo hotels. Walk along the canals, see the gondolas (gondola rides cost extra).\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/05/the-venetian-and-the-palazzo-1-1200x630.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1214,\n            \"longitude\": -115.1709\n          },\n          \"ticketPricing\": \"Free (except for gondola rides and dining)\",\n          \"travelTime\": \"Drive back after ethel m and the palazzo is on the strip, so walk around the area and enjoy\",\n        },\n        {\n          \"placeName\": \"Departure\",\n          \"placeDetails\": \"Head to the airport for your flight home.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5b58aa3ffc96bd5a87e60a4d/16:9/w_2560%2Cc_limit/Harry-Reid-International-Airport_GettyImages-647613696.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0801,\n            \"longitude\": -115.1523\n          },\n          \"ticketPricing\": \"N/A\",\n          \"travelTime\": \"Allow ample time to travel to Harry Reid International Airport (LAS), especially during peak hours. Consider using ride-sharing or the airport shuttle.\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Key Budget Tips:**\n\n*   **Transportation:** Use the Deuce bus for getting around the Strip and to Downtown. Ride-sharing is an option, but can be more expensive.\n*   **Food:** Look for affordable dining options like fast food, buffets with coupons, and happy hour deals. Consider bringing snacks and drinks to save money.\n*   **Drinks:** Avoid buying drinks at casinos; they are expensive. Purchase drinks at a store and bring them with you (where permitted).\n*   **Gambling:** Set a strict budget for gambling and stick to it.\n*   **Free Activities:** Take advantage of the many free attractions and shows that Las Vegas has to offer.\n*   **Hotel Deals:** Look for deals and discounts online before you book your hotel.  Consider staying slightly off the strip for better rates.\n*   **Travel Season:** Traveling during the off-season (summer or weekdays) can significantly reduce the costs of hotels and flights.\n\n**Important Notes:**\n\n*   Prices are estimates and can vary greatly depending on the time of year, day of the week, and availability.  Always check current prices before booking.\n*   This itinerary is a suggestion and can be customized to your interests and preferences.\n*   Wear comfortable shoes, as you'll be doing a lot of walking.\n*   Stay hydrated, especially in the hot desert climate.\n*   Be aware of your surroundings and take precautions against theft.\n*   Have fun!\n"},
        ],
      },
    ],
  });



